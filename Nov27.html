<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <style>

    .container {
        -webkit-perspective: 350px;
    }
    .blue_square {
        width: 250px;
        height: 250px;
        background-color: blue;
        transform: rotateY(0deg) rotateX(0deg);
    }
  </style>
</head>
<body>
<div class="container">
    <div class="blue_square"></div>

</div>
<script>
    function rotate(e){
        var initial = {x: e.clientX, y: e.clientY};
        var final = {x: 0, y: 0};
        var delta = {};
        delta.x = final.x - initial.x;
        delta.y = final.y - initial.y;


//        var delta = {x: final[x]-initial[x],
//                    y: final[x]-initial[x]};
//        console.log(delta);

        // need to change rotate Y on transform
        e.target.style.transform = "rotateY("+ delta.x +"deg)" + " rotateX(" + delta.y +")";

        // need to change rotate X on transform
//        e.target.style.transform = "rotateX("+ e.clientY +"deg)"

    }




    document.addEventListener('readystatechange', function(){
        var blue_square = document.getElementsByClassName('blue_square')[0];

        blue_square.addEventListener('mouseenter', function(e){

            blue_square.addEventListener('mousemove', rotate);



        });

        blue_square.addEventListener('mouseleave', function(e){
            //remove the event listener
            blue_square.removeEventListener('mousemove', rotate);
        });
    });
</script>
</body>
</html>